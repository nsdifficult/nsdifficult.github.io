
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>iOS7ä¸­çš„status baré—®é¢˜ - å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</title>
	<meta name="author" content="æ˜“è£ä¹‰">

	
	<meta name="description" content="é¦–å…ˆæ¨èè¿™ç¯‡æ–‡ç« ï¼šRedesign Your App for iOS 7 ä¹‹ é¡µé¢å¸ƒå±€ åœ¨iOS7ä¸­çŠ¶æ€æ é»˜è®¤é€æ˜ï¼Œä¸”è§†å›¾é»˜è®¤å…¨å±ã€‚åœ¨å®é™…å¼€å‘ä¸­å‘ç°å½“ç›´æ¥åœ¨ä¸€ä¸ªUIVIewControllerä¸­æ·»åŠ ä¸€ä¸ªUITableviewæ—¶ä¼šå‘ç”Ÿtableä¸­å†…å®¹åœ¨status baråé¢çš„é—®é¢˜ã€‚ &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="http://libs.useso.com/js/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:rongyi.work">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:rongyi.work">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">iOS7ä¸­çš„status Baré—®é¢˜</h2>
	<div class="entry-content"><p>é¦–å…ˆæ¨èè¿™ç¯‡æ–‡ç« ï¼š<a href="http://www.vinqon.com/codeblog/?detail/11109">Redesign Your App for iOS 7 ä¹‹ é¡µé¢å¸ƒå±€</a></p>

<p>åœ¨iOS7ä¸­çŠ¶æ€æ é»˜è®¤é€æ˜ï¼Œä¸”è§†å›¾é»˜è®¤å…¨å±ã€‚åœ¨å®é™…å¼€å‘ä¸­å‘ç°å½“ç›´æ¥åœ¨ä¸€ä¸ªUIVIewControllerä¸­æ·»åŠ ä¸€ä¸ªUITableviewæ—¶ä¼šå‘ç”Ÿtableä¸­å†…å®¹åœ¨status baråé¢çš„é—®é¢˜ã€‚<!--more--></p>

<p><img src="https://developer.apple.com/library/ios/qa/qa1797/Art/qa1797_1.png" alt="status bar cover view" /></p>

<p>è‹¹æœå®˜ç½‘æœ‰ä¸ªè§£å†³åŠæ³•ï¼š <a href="https://developer.apple.com/library/ios/qa/qa1797/_index.html#top">How do I prevent the status bar from covering my views in iOS 7?</a></p>

<p>å®é™…è¯•éªŒåå‘ç°å¯¹å…¶ä»–è§†å›¾ï¼ˆå¦‚UIToolBarï¼‰éƒ½æœ‰æ•ˆã€‚ä½†åœ¨storyboardç¯å¢ƒä¸‹ï¼Œåœ¨ä¸€ä¸ªUIViewControllerä¸Šç›´æ¥æ·»åŠ ä¸€ä¸ªUITableViewæ—¶ï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•å¹¶ä¸å¥æ•ˆï¼Œç½‘ä¸Šæœ‰è®¨è®ºè¯´è¿™æ˜¯ä¸€ä¸ªbugã€‚è§ï¼š<a href="http://stackoverflow.com/questions/18900428/ios-7-uitableview-shows-under-status-bar">iOS 7: UITableView shows under status bar</a>ã€‚</p>

<p>åæ¥ä½¿ç”¨ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[self.tableViewMain setContentInset:UIEdgeInsetsMake(20, self.tableViewMain.contentInset.left, self.tableViewMain.contentInset.bottom, self.tableViewMain.contentInset.right)];</span></code></pre></td></tr></table></div></figure>


<p>è§£å†³é—®é¢˜ã€‚</p>

<h2>è§£é‡Š</h2>

<h3>topLayoutGuide</h3>

<p>ä¸Šé¢çš„<a href="https://developer.apple.com/library/ios/qa/qa1797/_index.html#top">è§£å†³åŠæ³•</a>ä¸­æœ‰æåˆ°UIVIewControllerçš„å±æ€§<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instp/UIViewController/topLayoutGuide">topLayoutGuide</a>ã€‚</p>

<p>topLayoutGuideæ˜¯åªæœ‰åœ¨auto Layoutæ—¶ä½¿ç”¨ï¼ŒæŒ‡å‡ºå±å¹•å†…å®¹å‚ç›´æ–¹å‘æœ€é«˜çš„å†…å®¹æ˜¾ç¤ºèŒƒå›´ã€‚</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@property(nonatomic, readonly, retain) id&lt;UILayoutSupport&gt; topLayoutGuide</span></code></pre></td></tr></table></div></figure>


<p>æ›´è¯¦ç»†è§ï¼š<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instp/UIViewController/topLayoutGuide">topLayoutGuide</a></p>

<h3>iOS7ä¸­çš„status bar</h3>

<p>iOS7ä¸­çŠ¶æ€æ åªæœ‰ä¸¤ç§styleï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>typedef NS_ENUM(NSInteger, UIStatusBarStyle) {
</span><span class='line'>    UIStatusBarStyleDefault                                     = 0, // Dark content, for use on light backgrounds
</span><span class='line'>    UIStatusBarStyleLightContent     NS_ENUM_AVAILABLE_IOS(7_0) = 1, // Light content, for use on dark backgrounds
</span><span class='line'>    
</span><span class='line'>    UIStatusBarStyleBlackTranslucent NS_ENUM_DEPRECATED_IOS(2_0, 7_0, "Use UIStatusBarStyleLightContent") = 1,
</span><span class='line'>    UIStatusBarStyleBlackOpaque      NS_ENUM_DEPRECATED_IOS(2_0, 7_0, "Use UIStatusBarStyleLightContent") = 2,
</span><span class='line'>};</span></code></pre></td></tr></table></div></figure>


<p>å¯è§åªå‰©é»˜è®¤ï¼ˆæ·±è‰²èƒŒæ™¯æ—¶ä½¿ç”¨ï¼‰UIStatusBarStyleDefaultå’Œæµ…è‰²èƒŒæ™¯æ—¶ä½¿ç”¨çš„UIStatusBarStyleLightContentä¸¤ç§styleã€‚</p>

<p>iOS7ä¸­æˆ‘ä»¬é€šè¿‡ViewControlleré‡è½½æ–¹æ³•è¿”å›æšä¸¾å€¼çš„æ–¹æ³•æ¥æ§åˆ¶çŠ¶æ€æ çš„éšè—å’Œæ ·å¼</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- (UIStatusBarStyle)preferredStatusBarStyle
</span><span class='line'>{
</span><span class='line'>    return UIStatusBarStyleLightContent;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>- (BOOL)prefersStatusBarHidden
</span><span class='line'>{
</span><span class='line'>    return NO;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>å¹¶éœ€è¦åœ¨Info.plisté…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ é”®ï¼šUIViewControllerBasedStatusBarAppearanceï¼Œå¹¶è®¾ç½®ä¸ºYES</p>

<p>åœ¨éœ€è¦åˆ·æ–°çŠ¶æ€æ æ ·å¼çš„æ—¶å€™ï¼Œè°ƒç”¨[self setNeedsStatusBarAppearanceUpdate]æ–¹æ³•å³å¯åˆ·æ–°</p>

<h2>iOS7ä¸­UIViewControllerå¦‚ä½•å±•ç¤ºviewsåŠä¸€äº›å±æ€§è§£é‡Š</h2>

<p><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/TransitionGuide/AppearanceCustomization.html#//apple_ref/doc/uid/TP40013174-CH15-SW1">iOS 7 UI Transition Guide</a></p>

<h4>edgesForExtendedLayout</h4>

<blockquote><p>The edgesForExtendedLayout property uses the UIRectEdge type, which specifies each of a rectangleâ€™s four edges, in addition to specifying none and all.</p>

<p>Use edgesForExtendedLayout to specify which edges of a view should be extended, regardless of bar translucency. By default, the value of this property is UIRectEdgeAll.</p></blockquote>

<p>å³edgesForExtendedLayoutæ˜¯ä¸€ä¸ªç±»å‹ä¸ºUIExtendedEdgeçš„å±æ€§ï¼ŒæŒ‡å®šè¾¹ç¼˜è¦å»¶ä¼¸çš„æ–¹å‘ã€‚é»˜è®¤UIRectEdgeAllï¼Œå³å››å‘¨è¾¹ç¼˜éƒ½å»¶ä¼¸ã€‚</p>

<h4>automaticallyAdjustsScrollViewInsets</h4>

<blockquote><p>If you donâ€™t want a scroll viewâ€™s content insets to be automatically adjusted, set automaticallyAdjustsScrollViewInsets to NO. (The default value of automaticallyAdjustsScrollViewInsets is YES.)</p></blockquote>

<p>å½“ä½¿ç”¨UIScrollViewæˆ–å…¶å­ç±»ï¼ˆå¦‚UITableViewï¼‰æ—¶ï¼Œå½“automaticallyAdjustsScrollViewInsets=YESæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è®¾ç½®ç›¸åº”çš„å†…è¾¹è·ã€‚UIScrollViewä¼šå æ®æ•´ä¸ªè§†å›¾ï¼Œåˆä¸ä¼šè®©å¯¼èˆªæ é®ç›–ã€‚</p>

<h4>extendedLayoutIncludesOpaqueBars</h4>

<blockquote><p>If your design uses opaque bars, refine edgesForExtendedLayout by also setting the extendedLayoutIncludesOpaqueBars property to NO. (The default value of extendedLayoutIncludesOpaqueBars is YES.)</p></blockquote>

<p>å½“Barä½¿ç”¨äº†ä¸é€æ˜å›¾ç‰‡æ—¶ï¼Œè§†å›¾æ˜¯å¦å»¶ä¼¸è‡³Baræ‰€åœ¨åŒºåŸŸï¼Œé»˜è®¤å€¼æ—¶NOã€‚YESæ—¶è§†å›¾åˆ™ä¼šå»¶ä¼¸è‡³å¯¼èˆªæ ã€‚</p>

<h4>topLayoutGuide, bottomLayoutGuide</h4>

<blockquote><p>The topLayoutGuide and bottomLayoutGuide properties indicate the location of the top or bottom bar edges in a view controllerâ€™s view. If bars should overlap the top or bottom of a view, you can use Interface Builder to position the view relative to the bar by creating constraints to the bottom of topLayoutGuide or to the top of bottomLayoutGuide. (If no bars should overlap the view, the bottom of topLayoutGuide is the same as the top of the view and the top of bottomLayoutGuide is the same as the bottom of the view.) Both properties are lazily created when requested.</p></blockquote>

<p>topLayoutGuide, bottomLayoutGuideæŒ‡å®šäº†é¡¶éƒ¨æˆ–è€…åº•éƒ¨çš„barçš„è¾¹ç¼˜åœ¨UIViewControllerä¸­viewé‡Œçš„ä½ç½®ã€‚</p>

<h2>åœ¨è¿è¡Œæ—¶è®¾ç½®status barçš„é¢œè‰²</h2>

<p>åœ¨å®é™…é¡¹ç›®ä¸­å‘ç°ä½¿ç”¨xibï¼ˆstoryboardï¼‰çš„viewcontrollerçš„å±æ€§å®šä¹‰status barçš„é¢œè‰²ä¸ºdefaultæˆ–è€…light contentæ—¶ï¼Œæœ‰æ—¶å€™ä¼šä¸èµ·ä½œç”¨ã€‚è¿™æ—¶å€™å¯ä»¥é€‰æ‹©åœ¨è¿è¡Œæ—¶è®¾ç½®ï¼šå³åœ¨ä»£ç ä¸­è®¾ç½®</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[UIApplication sharedApplication].statusBarStyle = UIStatusBarStyleLightContent;</span></code></pre></td></tr></table></div></figure>



</div>


<div class="meta">
	<div class="date">




Oct 15th, 2013</div>
	<div class="tags">

</div>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		
		
	</div>
	
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    æ˜“è£ä¹‰

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>