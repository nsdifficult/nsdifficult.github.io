
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹è¯»ä¹¦ç¬”è®°ä¹‹String - å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</title>
	<meta name="author" content="æ˜“è£ä¹‰">

	
	<meta name="description" content="ä¸€ã€ä¸å¯å˜çš„String æ¯å½“æŠŠStringå¯¹è±¡ä½œä¸ºæ–¹æ³•çš„å‚æ•°æ—¶ï¼Œéƒ½ä¼šå¤åˆ¶ä¸€ä»½å¼•ç”¨ï¼ˆè‚¯å®šçš„ï¼Œæ— éœ€èµ˜è¨€ï¼‰ã€‚
Stringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚ä½†Stringç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹stringå€¼çš„æ–¹æ³•ï¼Œå®é™…ä¸Šéƒ½æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„Stringå¯¹è±¡ï¼Œè€Œæœ€åˆçš„Stringå¯¹è±¡ä¸å˜ã€‚ 1
2
3
4
String &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="http://libs.useso.com/js/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:rongyi.work">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:rongyi.work">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹è¯»ä¹¦ç¬”è®°ä¹‹String</h2>
	<div class="entry-content"><h3>ä¸€ã€ä¸å¯å˜çš„String</h3>

<ol>
<li>æ¯å½“æŠŠStringå¯¹è±¡ä½œä¸ºæ–¹æ³•çš„å‚æ•°æ—¶ï¼Œéƒ½ä¼šå¤åˆ¶ä¸€ä»½å¼•ç”¨ï¼ˆè‚¯å®šçš„ï¼Œæ— éœ€èµ˜è¨€ï¼‰ã€‚</li>
<li>Stringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚ä½†Stringç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹stringå€¼çš„æ–¹æ³•ï¼Œå®é™…ä¸Šéƒ½æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„Stringå¯¹è±¡ï¼Œè€Œæœ€åˆçš„Stringå¯¹è±¡ä¸å˜ã€‚<!--more--></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">String</span> <span class="n">q</span> <span class="o">=</span> <span class="s">&quot;abc&quot;</span><span class="o">;</span>
</span><span class='line'><span class="n">String</span> <span class="n">qq</span> <span class="o">=</span> <span class="n">upcase</span><span class="o">(</span><span class="n">q</span><span class="o">);</span>
</span><span class='line'><span class="n">print</span><span class="o">(</span><span class="n">qq</span><span class="o">);</span><span class="c1">//ABC</span>
</span><span class='line'><span class="n">print</span><span class="o">(</span><span class="n">q</span><span class="o">);</span><span class="c1">//abc</span>
</span></code></pre></td></tr></table></div></figure>


<h3>äºŒã€é‡è½½â€œï¼‹â€ä¸StringBuilder</h3>

<ol>
<li>ç”¨äºStringçš„â€œï¼‹â€ä¸â€œï¼‹ï¼â€æ˜¯javaä¸­ä»…æœ‰çš„ä¸¤ä¸ªé‡è½½è¿‡çš„æ“ä½œç¬¦ã€‚Javaä¸å…è®¸ç¨‹åºå‘˜é‡è½½ä»»ä½•æ“ä½œç¬¦ã€‚ï¼ˆåŸæ–‡ï¼šThe â€˜+â€™ and â€˜+=â€˜ for String are the only operators that are overloaded in Java, and Java does not allow the programmer to overload any others.ï¼‰</li>
<li>ç”¨â€œï¼‹â€æˆ–è€…â€œï¼‹ï¼â€è¿æ¥Stringæ—¶ï¼ŒJavaä¼šè‡ªåŠ¨å¼•å…¥StringBuilderã€‚</li>
<li>å¦‚æœåœ¨forå¾ªç¯ä¸­è¿æ¥å­—ç¬¦ä¸²ï¼Œæ¨èä½¿ç”¨StringBuilderã€‚å¦‚æœä½¿ç”¨â€œï¼‹â€æˆ–è€…â€œï¼‹ï¼â€ï¼Œjavaä¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­åˆ›å»ºä¸€ä¸ªStringBuilderï¼Œé€ æˆå¤šæ¬¡åˆ†é…ç¼“å­˜ã€‚</li>
<li>å¦‚æœæ‹¿ä¸å‡†ä½¿ç”¨å“ªç§æ–¹å¼ï¼Œå¯ä½¿ç”¨javapå‘½ä»¤åˆ†æç¨‹åºã€‚</li>
</ol>


<p>é¿å…ï¼š</p>

<pre><code>public String implicit(String[] fields) {
    String result = "";
    for (int i = 0; i &lt; fields.length; i++)
        result += fields[i];
    return result;
}
</code></pre>

<p>æ¨èï¼š</p>

<pre><code>public String explicit(String[] fields) {
    StringBuilder result = new StringBuilder();
    for (int i = 0; i &lt; fields.length; i++)
        result.append(fields[i]);
    return result.toString();
}
</code></pre>

<h3>ä¸‰ã€æ ¼å¼åŒ–è¾“å‡º</h3>

<ol>
<li>Javaä½¿ç”¨System.out.format()æ–¹æ³•æ¨¡ä»¿Cçš„printf()å®ç°æ ¼å¼åŒ–è¾“å‡ºï¼Œjavaä¸­ä¹Ÿå¯ä½¿ç”¨printfï¼Œä¸System.out.format()ä¸€è‡´ã€‚</li>
<li>Javaç§ï¼Œæ‰€æœ‰æ–°çš„æ ¼å¼åŒ–çš„åŠŸèƒ½éƒ½ç”±java.util.Formatterç±»å¤„ç†ã€‚</li>
<li>String.format()æ–¹æ³•åˆ™å‚è€ƒè‡ªCä¸­çš„sprintf()æ–¹æ³•ä»¥ç”Ÿæˆæ ¼å¼åŒ–çš„Stringå¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªstaticæ–¹æ³•ï¼Œæ¥å—ä¸java.util.Formatterç±»çš„format()æ–¹æ³•ä¸€æ ·çš„å‚æ•°ï¼Œä½†è¿”å›ä¸€ä¸ªStringå¯¹è±¡ã€‚å…¶å†…éƒ¨ä¹Ÿæ˜¯ä½¿ç”¨Formatterã€‚</li>
<li>æ ¼å¼åŒ–è¯´æ˜ç¬¦ï¼š%[argument_index$][flags][width][.precision]conversionã€‚å¦‚</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Receipt</span> <span class="o">{</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kt">double</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>  <span class="kd">private</span> <span class="n">Formatter</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Formatter</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">);</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printTitle</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15s %5s %10s\n&quot;</span><span class="o">,</span> <span class="s">&quot;Item&quot;</span><span class="o">,</span> <span class="s">&quot;Qty&quot;</span><span class="o">,</span> <span class="s">&quot;Price&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15s %5s %10s\n&quot;</span><span class="o">,</span> <span class="s">&quot;----&quot;</span><span class="o">,</span> <span class="s">&quot;---&quot;</span><span class="o">,</span> <span class="s">&quot;-----&quot;</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">qty</span><span class="o">,</span> <span class="kt">double</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15.15s %5d %10.2f\n&quot;</span><span class="o">,</span> <span class="n">name</span><span class="o">,</span> <span class="n">qty</span><span class="o">,</span> <span class="n">price</span><span class="o">);</span>
</span><span class='line'>      <span class="n">total</span> <span class="o">+=</span> <span class="n">price</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printTotal</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15s %5s %10.2f\n&quot;</span><span class="o">,</span> <span class="s">&quot;Tax&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">,</span> <span class="n">total</span> <span class="o">*</span> <span class="mf">0.06</span><span class="o">);</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15s %5s %10s\n&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;-----&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">f</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%-15s %5s %10.2f\n&quot;</span><span class="o">,</span> <span class="s">&quot;Total&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">,</span> <span class="n">total</span> <span class="o">*</span> <span class="mf">1.06</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">Receipt</span> <span class="n">receipt</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Receipt</span><span class="o">();</span>
</span><span class='line'>      <span class="n">receipt</span><span class="o">.</span><span class="na">printTitle</span><span class="o">();</span>
</span><span class='line'>      <span class="n">receipt</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;Jackâ€™s Magic Beans&quot;</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mf">4.25</span><span class="o">);</span>
</span><span class='line'>      <span class="n">receipt</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;Princess Peas&quot;</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mf">5.1</span><span class="o">);</span>
</span><span class='line'>      <span class="n">receipt</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;Three Bears Porridge&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mf">14.29</span><span class="o">);</span>
</span><span class='line'>      <span class="n">receipt</span><span class="o">.</span><span class="na">printTotal</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¾“å‡º</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Item</span>              <span class="n">Qty</span>      <span class="n">Price</span>
</span><span class='line'><span class="o">----</span>              <span class="o">---</span>      <span class="o">-----</span>
</span><span class='line'><span class="n">Jack</span><span class="err">â€™</span><span class="n">s</span> <span class="n">Magic</span> <span class="n">Be</span>     <span class="mi">4</span>       <span class="mf">4.25</span>
</span><span class='line'><span class="n">Princess</span> <span class="n">Peas</span>       <span class="mi">3</span>       <span class="mf">5.10</span>
</span><span class='line'><span class="n">Three</span> <span class="n">Bears</span> <span class="n">Por</span>     <span class="mi">1</span>      <span class="mf">14.29</span>
</span><span class='line'><span class="n">Tax</span>                         <span class="mf">1.42</span>
</span><span class='line'>                           <span class="o">-----</span>
</span><span class='line'><span class="n">Total</span>                      <span class="mf">25.06</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>"%-15s %5s %10.2f\n"</code> ä¸­  -15sï¼šï¼15è¡¨ç¤ºå·¦èµ·é•¿åº¦ä¸º15ï¼Œsè¡¨ç¤ºå­—ç¬¦ä¸²</p>

<p>System.out.format()ä¾‹å­</p>

<pre><code>public class SimpleFormat {
public static void main(String[] args) {
    int x = 5;
    double y = 5.332542;
    // The old way:
    System.out.println("Row 1: [" + x + " " + y + "]");
    // The new way:
    System.out.format("Row 1: [%d %f]\n", x, y);
    // or
    System.out.printf("Row 1: [%d %f]\n", x, y);
    }
}
</code></pre>

<p>è¾“å‡ºï¼š</p>

<pre><code>Row 1: [5 5.332542]
Row 1: [5 5.332542]
Row 1: [5 5.332542]
</code></pre>

<h3>å››ã€ä½¿ç”¨Scannerç±»ç”¨äºæ‰«æè¾“å…¥ï¼Œå…¶æ„é€ å™¨å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„è¾“å…¥å¯¹è±¡ï¼ˆStringã€Fileå¯¹è±¡ã€å®ç°Readableæ¥å£çš„å¯¹è±¡ç­‰ï¼‰ã€‚</h3>

<h4>Scanneråˆ†è¯ï¼šé»˜è®¤Scannerä½¿ç”¨ç©ºç™½å­—ç¬¦å¯¹è¾“å…¥è¿›è¡Œåˆ†è¯ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‡å®šæ‰€éœ€çš„å®šç•Œç¬¦ã€‚ å¦‚ï¼š</h4>

<p>ä½¿ç”¨â€œï¼Œâ€åˆ†éš”ï¼š</p>

<pre><code>import java.util.*;
public class ScannerDelimiter {
public static void main(String[] args) {
    Scanner scanner = new Scanner("12, 42, 78, 99, 42");
    scanner.useDelimiter("\\s*,\\s*");
    while(scanner.hasNextInt())
        System.out.println(scanner.nextInt());
    }
}
</code></pre>

<p>è¾“å‡ºï¼š</p>

<pre><code>12
42
78
99
42
</code></pre>

<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”ï¼š</p>

<pre><code>import java.util.regex.*;
import java.util.*;

public class ThreatAnalyzer {
    static String threatData = "58.27.82.161@02/10/2005\n"
        + "204.45.234.40@02/11/2005\n" + "58.27.82.161@02/11/2005\n"
        + "58.27.82.161@02/12/2005\n" + "58.27.82.161@02/12/2005\n"
        + "[Next log section with different data format]";

public static void main(String[] args) {
    Scanner scanner = new Scanner(threatData);
    String pattern = "(\\d+[.]\\d+[.]\\d+[.]\\d+)@"
            + "(\\d{2}/\\d{2}/\\d{4})";
    while (scanner.hasNext(pattern)) {
        scanner.next(pattern);
        MatchResult match = scanner.match();
        String ip = match.group(1);
        String date = match.group(2);
        System.out.format("Threat on %s from %s\n", date, ip);
    }
}
}
</code></pre>

<p>è¾“å‡ºï¼š</p>

<pre><code>Threat on 02/10/2005 from 58.27.82.161
Threat on 02/11/2005 from 204.45.234.40
Threat on 02/11/2005 from 58.27.82.161
Threat on 02/12/2005 from 58.27.82.161
Threat on 02/12/2005 from 58.27.82.161
</code></pre>
</div>


<div class="meta">
	<div class="date">




May 28th, 2014</div>
	<div class="tags">

</div>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		
		
	</div>
	
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    æ˜“è£ä¹‰

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>