
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>ç¼“å­˜åº“Ehcaheç®€å•ä»‹ç» - å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</title>
	<meta name="author" content="æ˜“è£ä¹‰">

	
	<meta name="description" content="ä»‹ç» Ehcacheåœ¨2003å¹´æ¨å‡ºï¼Œæ—¨åœ¨å‡å°‘æ½œåœ¨çš„èµ„æºåŠ è½½ã€‚
Ehcacheä¸ä»…ç”¨åœ¨ä¸€èˆ¬ç”¨é€”çš„ç¼“å­˜ï¼Œå¦‚Hibernateï¼Œæ•°æ®è®¿é—®å¯¹è±¡ï¼Œå®‰å…¨è¯ä¹¦å’Œwebé¡µé¢ã€‚ä¹Ÿèƒ½ç”¨äºSOAPå’ŒRESTfulæœåŠ¡ç«¯çš„ç¼“å­˜ï¼Œåº”ç”¨æŒä¹…åŒ–å’Œåˆ†å¸ƒå¼ç¼“å­˜ã€‚ å®šä¹‰ cacheï¼šå‘ƒï¼Œå³ç¼“å­˜ã€‚ç»´åŸºå®šä¹‰ä¸ºï¼š å­˜å‚¨ä¸€äº›å³å°†ä½¿ç”¨çš„ä¸œè¥¿ &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="http://libs.useso.com/js/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">å›¾æ ·å›¾æ£®ç ´å•ŠğŸ˜„</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">ä¸»é¡µ</a></li>
	<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:rongyi.work">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:rongyi.work">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">ç¼“å­˜åº“Ehcaheç®€å•ä»‹ç»</h2>
	<div class="entry-content"><h2>ä»‹ç»</h2>

<p>Ehcacheåœ¨2003å¹´æ¨å‡ºï¼Œæ—¨åœ¨å‡å°‘æ½œåœ¨çš„èµ„æºåŠ è½½ã€‚<br/>
Ehcacheä¸ä»…ç”¨åœ¨ä¸€èˆ¬ç”¨é€”çš„ç¼“å­˜ï¼Œå¦‚Hibernateï¼Œæ•°æ®è®¿é—®å¯¹è±¡ï¼Œå®‰å…¨è¯ä¹¦å’Œwebé¡µé¢ã€‚ä¹Ÿèƒ½ç”¨äºSOAPå’ŒRESTfulæœåŠ¡ç«¯çš„ç¼“å­˜ï¼Œåº”ç”¨æŒä¹…åŒ–å’Œåˆ†å¸ƒå¼ç¼“å­˜ã€‚<!--more--></p>

<h2>å®šä¹‰</h2>

<ul>
<li>cacheï¼šå‘ƒï¼Œå³ç¼“å­˜ã€‚ç»´åŸºå®šä¹‰ä¸ºï¼š

<blockquote><p>å­˜å‚¨ä¸€äº›å³å°†ä½¿ç”¨çš„ä¸œè¥¿ï¼Œå¯ä»¥è¢«å¿«é€Ÿçš„æ£€ç´¢ã€‚</p></blockquote></li>
<li>cache-hitï¼šç¼“å­˜å‘½ä¸­</li>
<li>cache-missï¼šç¼“å­˜æœªå‘½ä¸­</li>
<li>system-of-recordï¼šå¯é æ•°æ®çš„ç¼“å­˜ã€‚é€šå¸¸æ˜¯ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å…¶ä»–å¯é çš„é•¿æœŸå­˜å‚¨ã€‚å¯¹äºEhcacheæ¥è¯´ï¼ŒSORè¢«å‡å®šä¸ºæ•°æ®åº“ã€‚</li>
<li>SORï¼šå³system-of-recordç®€ç§°ã€‚</li>
</ul>


<h2>ç¼“å­˜å¦‚ä½•å·¥ä½œ</h2>

<ul>
<li>æœ¬åœ°å¼•ç”¨(Locality of Reference)ï¼š

<blockquote><p>While Ehcache concerns itself with Java objects, caching is used throughout computing, from CPU caches to the internet Domain Name System (DNS) system. Why? Because many computer systems exhibit &ldquo;locality of reference&rdquo;. Data that is near other data or has recently been used is more likely to be used again.</p></blockquote></li>
</ul>


<p>ç³»ç»Ÿé€šè¿‡å¼•ç”¨è®¿é—®æ•°æ®ï¼Œæ•°æ®æœ€è¿‘è¢«ä½¿ç”¨è¿‡ï¼Œä¸€èˆ¬ä¼šå†æ¬¡ä½¿ç”¨ã€‚</p>

<ul>
<li>é•¿å°¾ç†è®ºï¼ˆThe Long Tailï¼‰ï¼š

<blockquote><p>The Long Tail is an example of a Power Law probability distribution, such as the Pareto distribution or 80:20 rule. If 20% of objects are used 80% of the time and a way can be found to reduce the cost of obtaining that 20%, system performance will improve.</p></blockquote></li>
</ul>


<p>å½“ç³»ç»Ÿä¸­80%çš„æ¬¡æ•°éƒ½åœ¨ä½¿ç”¨20%çš„æ•°æ®ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±éœ€è¦ä½¿ç”¨ç¼“å­˜äº†ã€‚</p>

<h2>ç¼“å­˜çš„å¥½å¤„</h2>

<ul>
<li>Speeding up CPU-bound Applications: æé€ŸCPUé™åˆ¶å‹åº”ç”¨ç¨‹åº</li>
<li>Speeding up I/O-bound Applications:æé€ŸI/Oé™åˆ¶å‹åº”ç”¨ç¨‹åº</li>
<li>Increased Application Scalability:æé«˜åº”ç”¨ç¨‹åºä¼¸ç¼©æ€§</li>
</ul>


<h1>å¯¹è±¡</h1>

<ol>
<li>cache managerï¼šç¼“å­˜ç®¡ç†å™¨ï¼Œä»¥å‰æ˜¯åªå…è®¸å•ä¾‹çš„ï¼Œä¸è¿‡ç°åœ¨ä¹Ÿå¯ä»¥å¤šå®ä¾‹äº†</li>
<li>cacheï¼šç¼“å­˜ç®¡ç†å™¨å†…å¯ä»¥æ”¾ç½®è‹¥å¹²cacheï¼Œå­˜æ”¾æ•°æ®çš„å®è´¨ï¼Œæ‰€æœ‰cacheéƒ½å®ç°äº†Ehcache</li>
<li>elementï¼šå•æ¡ç¼“å­˜æ•°æ®çš„ç»„æˆå•ä½</li>
<li>system of recordï¼ˆSORï¼‰ï¼šå¯ä»¥å–åˆ°çœŸå®æ•°æ®çš„ç»„ä»¶ï¼Œå¯ä»¥æ˜¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ã€å¤–éƒ¨æ¥å£è°ƒç”¨ã€å­˜æ”¾çœŸå®æ•°æ®çš„æ•°æ®åº“ç­‰ç­‰ï¼Œç¼“å­˜å°±æ˜¯ä»SORä¸­è¯»å–æˆ–è€…å†™å…¥åˆ°SORä¸­å»çš„ã€‚</li>
</ol>


<h2>ä½¿ç”¨ç¤ºä¾‹</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CacheManager manager = CacheManager.newInstance("src/config/ehcache.xml");  
</span><span class='line'>manager.addCache("testCache");  
</span><span class='line'>Cache test = singletonManager.getCache("testCache");  
</span><span class='line'>test.put(new Element("key1", "value1"));  
</span><span class='line'>manager.shutdown();  </span></code></pre></td></tr></table></div></figure>


<p>Ehcache.xml</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="gbk"?&gt;
</span><span class='line'>&lt;ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class='line'>  xsi:noNamespaceSchemaLocation="ehcache.xsd"&gt;
</span><span class='line'>  &lt;diskStore path="java.io.tmpdir" /&gt;
</span><span class='line'>  &lt;defaultCache maxElementsInMemory="10000" eternal="false"
</span><span class='line'>      timeToIdleSeconds="30" timeToLiveSeconds="30" overflowToDisk="false" /&gt;
</span><span class='line'>  &lt;!-- é…ç½®è‡ªå®šä¹‰ç¼“å­˜ maxElementsInMemoryï¼šç¼“å­˜ä¸­å…è®¸åˆ›å»ºçš„æœ€å¤§å¯¹è±¡æ•° eternalï¼šç¼“å­˜ä¸­å¯¹è±¡æ˜¯å¦ä¸ºæ°¸ä¹…çš„ï¼Œå¦‚æœæ˜¯ï¼Œè¶…æ—¶è®¾ç½®å°†è¢«å¿½ç•¥ï¼Œå¯¹è±¡ä»ä¸è¿‡æœŸã€‚ 
</span><span class='line'>      timeToIdleSecondsï¼šç¼“å­˜æ•°æ®çš„é’åŒ–æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªå…ƒç´ æ¶ˆäº¡ä¹‹å‰ï¼Œ ä¸¤æ¬¡è®¿é—®æ—¶é—´çš„æœ€å¤§æ—¶é—´é—´éš”å€¼ï¼Œè¿™åªèƒ½åœ¨å…ƒç´ ä¸æ˜¯æ°¸ä¹…é©»ç•™æ—¶æœ‰æ•ˆï¼Œ 
</span><span class='line'>      å¦‚æœè¯¥å€¼æ˜¯ 0 å°±æ„å‘³ç€å…ƒç´ å¯ä»¥åœé¡¿æ— ç©·é•¿çš„æ—¶é—´ã€‚ timeToLiveSecondsï¼šç¼“å­˜æ•°æ®çš„ç”Ÿå­˜æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå…ƒç´ ä»æ„å»ºåˆ°æ¶ˆäº¡çš„æœ€å¤§æ—¶é—´é—´éš”å€¼ï¼Œ 
</span><span class='line'>      è¿™åªèƒ½åœ¨å…ƒç´ ä¸æ˜¯æ°¸ä¹…é©»ç•™æ—¶æœ‰æ•ˆï¼Œå¦‚æœè¯¥å€¼æ˜¯0å°±æ„å‘³ç€å…ƒç´ å¯ä»¥åœé¡¿æ— ç©·é•¿çš„æ—¶é—´ã€‚ overflowToDiskï¼šå†…å­˜ä¸è¶³æ—¶ï¼Œæ˜¯å¦å¯ç”¨ç£ç›˜ç¼“å­˜ã€‚ memoryStoreEvictionPolicyï¼šç¼“å­˜æ»¡äº†ä¹‹åçš„æ·˜æ±°ç®—æ³•ã€‚ --&gt;
</span><span class='line'>  &lt;cache name="SimplePageCachingFilter" maxElementsInMemory="10000"
</span><span class='line'>      eternal="false" overflowToDisk="false" timeToIdleSeconds="900"
</span><span class='line'>      timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LFU" /&gt;
</span><span class='line'>&lt;/ehcache&gt;</span></code></pre></td></tr></table></div></figure>


<p>æœ¬æ–‡åªæ˜¯éå¸¸ç®€å•çš„ä»‹ç»Ehcache,æ¨èé˜…è¯»å®˜æ–¹çš„æ–‡æ¡£å’Œå…¶ä»–åšå®¢ã€‚<br/>
1. <a href="http://www.cnblogs.com/hoojo/archive/2012/07/12/2587556.html">Ehcache æ•´åˆSpring ä½¿ç”¨é¡µé¢ã€å¯¹è±¡ç¼“å­˜</a><br/>
2. <a href="http://raychase.iteye.com/blog/1545906">Ehcacheè¯¦ç»†è§£è¯»</a> <br/>
3. <a href="http://ehcache.org/documentation/index">Ehcacheå®˜æ–¹æ–‡æ¡£</a></p>
</div>


<div class="meta">
	<div class="date">




Aug 25th, 2014</div>
	<div class="tags">

</div>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		
		
	</div>
	
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    æ˜“è£ä¹‰

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>